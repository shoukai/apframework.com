---
title: 'Poetryï¼šç°ä»£Pythonä¾èµ–ç®¡ç†å·¥å…·çš„å®è·µæŒ‡å—'
date: '2025-04-26'
tags: ['Python', 'Poetry', 'ä¾èµ–ç®¡ç†', 'è™šæ‹Ÿç¯å¢ƒ', 'åŒ…ç®¡ç†', 'pyproject.toml', 'Pythonå·¥å…·é“¾']
draft: false
summary: 'å…¨é¢å‰–æPoetryä½œä¸ºPythoné¡¹ç›®ä¾èµ–ç®¡ç†å·¥å…·çš„æ ¸å¿ƒåŠŸèƒ½ã€æœ€ä½³å®è·µåŠä¸Condaçš„ååŒå·¥ä½œç­–ç•¥ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºç¨³å®šå¯é çš„é¡¹ç›®ç¯å¢ƒï¼Œè§£å†³ä¾èµ–å†²çªé—®é¢˜ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚'
---


<div className="text-center">
  <img src="/static/images/2025-04-26-Python-Poetry/ksenia-makagonova-eUnBVyC9EFs-unsplash.jpg" alt="Code" />
  <p>Poetryï¼ˆPhoto by <a href="https://unsplash.com/@jannerboy62?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Nick Fewings</a> on <a href="https://unsplash.com/photos/assorted-title-poetry-books-on-display-q0MSEVq7JMo?utm_content=creditCopyText&utm_medium=referral&utm_source=unsplash">Unsplash</a>)
ï¼‰</p>
</div>

## ç›®å½•
<TOCInline toc={props.toc} exclude="æ¦‚è¿°" toHeading={3} />

## 1. å¼•è¨€ï¼šPythonä¾èµ–ç®¡ç†çš„æ¼”è¿›

åœ¨Pythonç”Ÿæ€ç³»ç»Ÿä¸­ï¼Œä¾èµ–ç®¡ç†å·¥å…·ç»å†äº†ä»æœ€åˆçš„pipå’Œvirtualenvï¼Œåˆ°åæ¥çš„pipenvçš„ä¸æ–­è¿›åŒ–è¿‡ç¨‹ã€‚è¿‘å¹´æ¥ï¼Œ**Poetry**ä½œä¸ºä¸€æ¬¾é›†æˆåŒ…ç®¡ç†å’Œè™šæ‹Ÿç¯å¢ƒç®¡ç†äºä¸€ä½“çš„ç°ä»£åŒ–å·¥å…·ï¼Œå‡ ä¹æˆä¸ºäº†Pythonå¼€å‘è€…çš„é¦–é€‰ï¼Œè·å¾—äº†å¹¿æ³›çš„å…³æ³¨å’Œè®¤å¯ã€‚

æœ¬æ–‡å°†å…¨é¢ä»‹ç»å¹¶æ·±å…¥æ¢è®¨Poetryï¼ŒåŒ…æ‹¬å…¶åŸºæœ¬æ¦‚å¿µã€å®‰è£…é…ç½®ã€æ ¸å¿ƒåŠŸèƒ½ã€ä¸ä¼ ç»Ÿå·¥å…·çš„å¯¹æ¯”ï¼Œä»¥åŠåœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨åœºæ™¯ã€‚æˆ‘ä»¬è¿˜å°†ç‰¹åˆ«å…³æ³¨Poetryå¦‚ä½•ä¸Condaç­‰å…¶ä»–ç¯å¢ƒç®¡ç†å·¥å…·ååŒå·¥ä½œï¼Œä»¥æ»¡è¶³æ›´å¤æ‚çš„é¡¹ç›®éœ€æ±‚ã€‚

## 2. Poetry ç®€ä»‹ï¼šç°ä»£Pythoné¡¹ç›®ç®¡ç†å·¥å…·

Poetryæ˜¯ä¸€ä¸ªå¼ºå¤§çš„Pythonä¾èµ–ç®¡ç†å’Œæ‰“åŒ…å·¥å…·ï¼Œå®ƒå…è®¸å¼€å‘è€…æ¸…æ™°åœ°å£°æ˜é¡¹ç›®æ‰€ä¾èµ–çš„åº“ï¼Œå¹¶è‡ªåŠ¨ç®¡ç†ï¼ˆå®‰è£…/æ›´æ–°ï¼‰è¿™äº›ä¾èµ–ã€‚å®ƒæä¾›äº†é”æ–‡ä»¶ï¼ˆlockfileï¼‰æœºåˆ¶ï¼Œç¡®ä¿åœ¨ä¸åŒç¯å¢ƒä¸‹çš„å¯é‡å¤å®‰è£…è¿‡ç¨‹ï¼Œå¹¶æ”¯æŒé¡¹ç›®æ„å»ºå’Œåˆ†å‘ã€‚

ä¸ä¼ ç»Ÿçš„pip+requirements.txtæ–¹æ¡ˆç›¸æ¯”ï¼ŒPoetryå…·æœ‰ä»¥ä¸‹æ˜¾è‘—ä¼˜åŠ¿ï¼š

- **æ™ºèƒ½ä¾èµ–è§£æ**ï¼šè‡ªåŠ¨å¤„ç†ä¾èµ–å†²çªï¼Œç¡®ä¿æ‰€æœ‰åŒ…ç‰ˆæœ¬å…¼å®¹
- **ç²¾ç¡®çš„é”æ–‡ä»¶æœºåˆ¶**ï¼šé€šè¿‡poetry.lockç¡®ä¿ä¸åŒç¯å¢ƒä¸‹çš„ä¸€è‡´æ€§å®‰è£…
- **é›†æˆçš„è™šæ‹Ÿç¯å¢ƒç®¡ç†**ï¼šå†…ç½®è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå’Œç®¡ç†åŠŸèƒ½
- **ç®€åŒ–çš„é¡¹ç›®æ‰“åŒ…**ï¼šç®€åŒ–PythonåŒ…çš„æ„å»ºå’Œå‘å¸ƒæµç¨‹
- **ç°ä»£åŒ–çš„å‘½ä»¤è¡Œæ¥å£**ï¼šæä¾›ç›´è§‚ã€ä¸€è‡´çš„ç”¨æˆ·ä½“éªŒ

## 3. Poetryå®‰è£…ä¸é…ç½®æŒ‡å—

### 3.1 åŸºæœ¬å®‰è£…

Poetryå®˜æ–¹æ¨èä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œè¯¥æ–¹å¼é€‚ç”¨äºå¤§å¤šæ•°æ“ä½œç³»ç»Ÿï¼š

```bash
curl -sSL https://install.python-poetry.org | python3 -
```

å®‰è£…å®Œæˆåï¼Œè¯·é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼š

```bash
poetry --version
```

### 3.2 é…ç½®é€‰é¡¹

é»˜è®¤æƒ…å†µä¸‹ï¼ŒPoetryä¼šåœ¨`~/.local/share/pypoetry`ç›®å½•ä¸‹å®‰è£…ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰çš„æ‰€æœ‰é…ç½®é¡¹ï¼š

```bash
poetry config --list
```

æœ€å¸¸ç”¨çš„é…ç½®é€‰é¡¹åŒ…æ‹¬ï¼š

```bash
# æ˜¯å¦è‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
poetry config virtualenvs.create true
# æ˜¯å¦å°†è™šæ‹Ÿç¯å¢ƒä¿å­˜åœ¨é¡¹ç›®ç›®å½•ä¸­
poetry config virtualenvs.in-project true
```

### 3.3 ä¸CondaååŒå·¥ä½œ

è™½ç„¶Poetryå’ŒCondaéƒ½æä¾›äº†å¼ºå¤§çš„ç¯å¢ƒç®¡ç†åŠŸèƒ½ï¼Œä½†å®ƒä»¬å¯ä»¥å®Œç¾ååŒå·¥ä½œï¼Œå……åˆ†å‘æŒ¥å„è‡ªçš„ä¼˜åŠ¿ã€‚å½“éœ€è¦å°†ä¸¤è€…ç»“åˆä½¿ç”¨æ—¶ï¼Œæ¨èçš„åšæ³•æ˜¯ï¼š

1. ä½¿ç”¨Condaåˆ›å»ºå’Œç®¡ç†åŸºç¡€Pythonç¯å¢ƒ
2. åœ¨Condaç¯å¢ƒä¸­å®‰è£…Poetry
3. ä½¿ç”¨Poetryç®¡ç†é¡¹ç›®çš„å…·ä½“ä¾èµ–

ä¸ºäº†é¿å…ç¯å¢ƒç®¡ç†å†²çªï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹å…³é”®çš„Poetryé…ç½®è°ƒæ•´ï¼š

```bash
# ç¦ç”¨Poetryè‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
poetry config virtualenvs.create false

# ç¦ç”¨é¡¹ç›®å†…è™šæ‹Ÿç¯å¢ƒ
poetry config virtualenvs.in-project false
```

è¿™æ ·é…ç½®åï¼ŒPoetryå°†ç›´æ¥ä½¿ç”¨å½“å‰æ¿€æ´»çš„Condaç¯å¢ƒï¼Œè€Œä¸ä¼šåˆ›å»ºæ–°çš„è™šæ‹Ÿç¯å¢ƒï¼Œä»è€Œå®ç°æ— ç¼é›†æˆã€‚

## 4. Poetryæ ¸å¿ƒåŠŸèƒ½ä¸å®ç”¨æŠ€å·§

### 4.1 åˆ›å»ºæ–°é¡¹ç›®

Poetryæä¾›äº†éå¸¸ç›´è§‚çš„é¡¹ç›®åˆ›å»ºå‘½ä»¤ï¼š

```bash
poetry new poetry-demo
```

æ‰§è¡Œåï¼Œå°†è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåä¸º`poetry-demo`çš„ç›®å½•ï¼Œå¹¶ç”Ÿæˆå¦‚ä¸‹æ ‡å‡†ç»“æ„ï¼š

```
poetry-demo
â”œâ”€â”€ pyproject.toml  # é¡¹ç›®é…ç½®æ–‡ä»¶
â”œâ”€â”€ README.md       # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ src             # æºä»£ç ç›®å½•
â”‚   â””â”€â”€ poetry_demo
â”‚       â””â”€â”€ __init__.py
â””â”€â”€ tests           # æµ‹è¯•ç›®å½•
    â””â”€â”€ __init__.py
```

### 4.2 pyproject.tomlè¯¦è§£

`pyproject.toml`æ–‡ä»¶æ˜¯Poetryé¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œç”¨äºå®šä¹‰é¡¹ç›®ä¿¡æ¯å’Œç®¡ç†ä¾èµ–å…³ç³»ã€‚ä¸€ä¸ªæ ‡å‡†çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹å¦‚ä¸‹ï¼š

```toml
[tool.poetry]
name = "poetry-demo"
version = "0.1.0"
description = "Poetryç¤ºä¾‹é¡¹ç›®"
authors = ["Your Name <your.email@example.com>"]
readme = "README.md"
packages = [{include = "poetry_demo", from = "src"}]

[tool.poetry.dependencies]
python = ">=3.9,<4.0"

[tool.poetry.group.dev.dependencies]
pytest = "^7.0.0"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
```

è¿™ä¸ªæ–‡ä»¶æ¸…æ™°åœ°å®šä¹‰äº†é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ã€ä¾èµ–å…³ç³»å’Œæ„å»ºé…ç½®ã€‚Poetryä¼šæ ¹æ®è¿™ä¸ªæ–‡ä»¶æ™ºèƒ½åœ°ç®¡ç†é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–å’Œæ„å»ºè¿‡ç¨‹ã€‚

### 4.3 ä¾èµ–ç®¡ç†

Poetryæä¾›äº†å¼ºå¤§è€Œç›´è§‚çš„ä¾èµ–ç®¡ç†åŠŸèƒ½ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿè½»æ¾åœ°ç®¡ç†é¡¹ç›®ä¾èµ–ï¼š

**æ·»åŠ ä¾èµ–**ï¼š

```bash
# æ·»åŠ è¿è¡Œæ—¶ä¾èµ–
poetry add requests

# æ·»åŠ ç‰¹å®šç‰ˆæœ¬çš„ä¾èµ–
poetry add numpy@^1.24.0

# æ·»åŠ å¼€å‘ç¯å¢ƒä¾èµ–
poetry add pytest --group dev
```

**å®‰è£…ä¾èµ–**ï¼š

```bash
# å®‰è£…æ‰€æœ‰å£°æ˜çš„ä¾èµ–
poetry install

# å®‰è£…æ—¶æ’é™¤å¼€å‘ä¾èµ–
poetry install --without dev
```

**æ›´æ–°ä¾èµ–**ï¼š

```bash
# æ›´æ–°é¡¹ç›®çš„æ‰€æœ‰ä¾èµ–
poetry update

# åªæ›´æ–°ç‰¹å®šçš„ä¾èµ–åŒ…
poetry update requests
```

**æŸ¥çœ‹ä¾èµ–ä¿¡æ¯**ï¼š

```bash
# æŸ¥çœ‹ä¾èµ–å…³ç³»æ ‘
poetry show --tree

# æŸ¥çœ‹å·²å®‰è£…çš„åŒ…è¯¦æƒ…
poetry show
```

### 4.4 è™šæ‹Ÿç¯å¢ƒç®¡ç†

Poetryå†…ç½®äº†å®Œå–„çš„è™šæ‹Ÿç¯å¢ƒç®¡ç†åŠŸèƒ½ï¼Œæ— éœ€ä½¿ç”¨å…¶ä»–å·¥å…·ï¼š

**æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**ï¼š

```bash
poetry shell
```

**åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œå‘½ä»¤**ï¼š

```bash
# è¿è¡ŒPythonè„šæœ¬
poetry run python script.py

# è¿è¡Œæµ‹è¯•å¥—ä»¶
poetry run pytest
```

**æŸ¥çœ‹ç¯å¢ƒè¯¦ç»†ä¿¡æ¯**ï¼š

```bash
# æ˜¾ç¤ºå½“å‰ç¯å¢ƒçš„è¯¦ç»†ä¿¡æ¯
poetry env info

# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è™šæ‹Ÿç¯å¢ƒ
poetry env list
```

å½“ä¸CondaååŒå·¥ä½œæ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹å·¥ä½œæµç¨‹ï¼š

```bash
# é¦–å…ˆæ¿€æ´»Condaç¯å¢ƒ
conda activate myenv

# éªŒè¯å½“å‰Pythonè§£é‡Šå™¨è·¯å¾„
which python

# åœ¨Condaç¯å¢ƒä¸­ä½¿ç”¨Poetryç®¡ç†ä¾èµ–
poetry install
```

### 4.5 æ„å»ºä¸å‘å¸ƒ

Poetryå¤§å¹…ç®€åŒ–äº†PythonåŒ…çš„æ„å»ºå’Œå‘å¸ƒæµç¨‹ï¼Œä½¿å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºä»£ç å¼€å‘ï¼š

**æ„å»ºåŒ…**ï¼š

```bash
poetry build
```

æ‰§è¡Œåå°†åœ¨`dist/`ç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆwheelæ ¼å¼ï¼ˆ.whlï¼‰å’Œæºç åˆ†å‘åŒ…ï¼ˆ.tar.gzï¼‰ã€‚

**å‘å¸ƒåˆ°PyPI**ï¼š

```bash
# å‘å¸ƒåˆ°å®˜æ–¹PyPIä»“åº“
poetry publish

# å‘å¸ƒåˆ°è‡ªå®šä¹‰ç§æœ‰ä»“åº“
poetry publish --repository my-repo

# ä¸€æ­¥å®Œæˆæ„å»ºå¹¶å‘å¸ƒ
poetry publish --build
```

**å¯¼å‡ºä¾èµ–æ–‡ä»¶**ï¼š

```bash
# å¯¼å‡ºæ ‡å‡†requirements.txt
poetry export -f requirements.txt --output requirements.txt

# åŒ…å«å¼€å‘ä¾èµ–çš„å®Œæ•´å¯¼å‡º
poetry export --with dev -f requirements.txt --output requirements-dev.txt
```

## 5. Poetryå®é™…åº”ç”¨æ¡ˆä¾‹ä¸æœ€ä½³å®è·µ

ä¸‹é¢æ˜¯ä¸€ä¸ªæ•°æ®ç§‘å­¦é¡¹ç›®ä¸­ä½¿ç”¨Poetryçš„å®Œæ•´æµç¨‹ç¤ºä¾‹ï¼š

### 5.1 åˆå§‹åŒ–é¡¹ç›®

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir my-data-science-project
cd my-data-science-project

# äº¤äº’å¼åˆå§‹åŒ–Poetryé¡¹ç›®
poetry init
```

### 5.2 æ·»åŠ å¿…è¦ä¾èµ–

```bash
# æ·»åŠ æ•°æ®ç§‘å­¦æ ¸å¿ƒåº“
poetry add pandas numpy matplotlib scikit-learn

# æ·»åŠ å¼€å‘å’Œæµ‹è¯•å·¥å…·
poetry add pytest black isort mypy --group dev
```

### 5.3 åˆ›å»ºæ ‡å‡†é¡¹ç›®ç»“æ„

```bash
# åˆ›å»ºæºä»£ç å’Œæµ‹è¯•ç›®å½•
mkdir -p src/my_project tests

# åˆ›å»ºå¿…è¦çš„åˆå§‹æ–‡ä»¶
touch src/my_project/__init__.py
touch tests/__init__.py
```

### 5.4 ç¼–å†™ä¸šåŠ¡ä»£ç å’Œæµ‹è¯•

```python
# src/my_project/data_processor.py
import pandas as pd
from pandas import DataFrame

def process_data(data: DataFrame) -> DataFrame:
    """Clean the input dataframe by removing missing values.
    
    Args:
        data: Input DataFrame to be processed
        
    Returns:
        Cleaned DataFrame with no missing values
    """
    return data.dropna()
```

```python
# tests/test_data_processor.py
import pandas as pd
import pytest
from my_project.data_processor import process_data

def test_process_data():
    # å‡†å¤‡æµ‹è¯•æ•°æ®ï¼ŒåŒ…å«ç©ºå€¼
    data = pd.DataFrame({'A': [1, 2, None], 'B': [4, None, 6]})
    
    # è°ƒç”¨å¤„ç†å‡½æ•°
    result = process_data(data)
    
    # éªŒè¯ç»“æœ
    assert len(result) == 1
    assert result.iloc[0, 0] == 1
    assert result.iloc[0, 1] == 4
```

### 5.5 è¿è¡Œæµ‹è¯•å’Œä»£ç æ£€æŸ¥

`poetry run pytest` è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•

```
================================================= test session starts ==================================================
platform darwin -- Python 3.13.2, pytest-8.3.5, pluggy-1.5.0
rootdir: /Users/shoukai/source/python-project/my-data-science-project
configfile: pyproject.toml
plugins: anyio-4.9.0
collected 1 item

tests/test_data_processor.py .                                                                                   [100%]

================================================== 1 passed in 0.81s ===================================================
```

`poetry run black src tests` è¿è¡Œä»£ç æ ¼å¼åŒ–

```
reformatted /Users/shoukai/source/python-project/my-data-science-project/src/my_project/data_processor.py
reformatted /Users/shoukai/source/python-project/my-data-science-project/tests/test_data_processor.py

All done! âœ¨ ğŸ° âœ¨
2 files reformatted, 2 files left unchanged.
```

## 6. Poetryå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥æ‰‹å†Œä¸å‚è€ƒèµ„æ–™

ä»¥ä¸‹æ˜¯Poetryæœ€å¸¸ç”¨å‘½ä»¤çš„é€ŸæŸ¥æ‰‹å†Œï¼Œæ–¹ä¾¿å¼€å‘è€…å¿«é€ŸæŸ¥é˜…å’Œä½¿ç”¨ã€‚

### 6.1 é¡¹ç›®åˆå§‹åŒ–ä¸é…ç½®

| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `new` | åˆ›å»ºæ–°é¡¹ç›® | `poetry new my-project` |
| `init` | åœ¨ç°æœ‰é¡¹ç›®ä¸­åˆå§‹åŒ–Poetry | `poetry init` |
| `config` | æŸ¥çœ‹æˆ–è®¾ç½®é…ç½® | `poetry config virtualenvs.in-project true` |
| `env list` | åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è™šæ‹Ÿç¯å¢ƒ | `poetry env list` |
| `env info` | æ˜¾ç¤ºå½“å‰ç¯å¢ƒä¿¡æ¯ | `poetry env info` |

### 6.2 ä¾èµ–ç®¡ç†

| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `add` | æ·»åŠ ä¾èµ– | `poetry add requests pandas` |
| `add --group` | æ·»åŠ åˆ†ç»„ä¾èµ– | `poetry add pytest --group dev` |
| `remove` | ç§»é™¤ä¾èµ– | `poetry remove requests` |
| `install` | å®‰è£…ä¾èµ– | `poetry install` |
| `install --without` | å®‰è£…æ—¶æ’é™¤ç‰¹å®šç»„ | `poetry install --without dev,docs` |
| `update` | æ›´æ–°ä¾èµ– | `poetry update` |
| `show` | æ˜¾ç¤ºå·²å®‰è£…çš„ä¾èµ– | `poetry show` |
| `show --tree` | æ˜¾ç¤ºä¾èµ–æ ‘ | `poetry show --tree` |
| `show --latest` | æ˜¾ç¤ºæœ€æ–°ç‰ˆæœ¬ä¿¡æ¯ | `poetry show --latest` |
| `lock` | æ›´æ–°é”æ–‡ä»¶ä½†ä¸å®‰è£… | `poetry lock` |

### 6.3 ç¯å¢ƒç®¡ç†

| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `shell` | æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ | `poetry shell` |
| `run` | åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œå‘½ä»¤ | `poetry run python script.py` |
| `env use` | æŒ‡å®šPythonç‰ˆæœ¬ | `poetry env use python3.9` |
| `env remove` | åˆ é™¤è™šæ‹Ÿç¯å¢ƒ | `poetry env remove python3.8` |

### 6.4 æ„å»ºä¸å‘å¸ƒ

| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `build` | æ„å»ºé¡¹ç›® | `poetry build` |
| `publish` | å‘å¸ƒåˆ°PyPI | `poetry publish` |
| `publish --repository` | å‘å¸ƒåˆ°æŒ‡å®šä»“åº“ | `poetry publish --repository my-repo` |
| `publish --build` | å‘å¸ƒå‰æ„å»º | `poetry publish --build` |
| `export` | å¯¼å‡ºä¾èµ–ä¸ºå…¶ä»–æ ¼å¼ | `poetry export -f requirements.txt -o requirements.txt` |

### 6.5 ç‰ˆæœ¬ç®¡ç†

| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `version` | æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬ | `poetry version` |
| `version patch` | æ›´æ–°è¡¥ä¸ç‰ˆæœ¬ | `poetry version patch` |
| `version minor` | æ›´æ–°æ¬¡è¦ç‰ˆæœ¬ | `poetry version minor` |
| `version major` | æ›´æ–°ä¸»è¦ç‰ˆæœ¬ | `poetry version major` |

### 6.6 å…¶ä»–å‘½ä»¤

| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `check` | éªŒè¯pyproject.toml | `poetry check` |
| `search` | æœç´¢åŒ… | `poetry search requests` |
| `cache clear` | æ¸…é™¤ç¼“å­˜ | `poetry cache clear --all` |
| `self update` | æ›´æ–°Poetry | `poetry self update` |

æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ[Poetryå®˜æ–¹æ–‡æ¡£](https://python-poetry.org/docs/cli/)ã€‚

## 7. æ€»ç»“ä¸å±•æœ›ï¼šPoetryåœ¨Pythonç”Ÿæ€ä¸­çš„æœªæ¥

<div className="bg-gray-100 p-4 rounded-lg my-4 border-l-4 border-blue-500">

### è¦ç‚¹å›é¡¾

- Poetryé€šè¿‡**æ™ºèƒ½ä¾èµ–è§£æ**å’Œ**é”æ–‡ä»¶æœºåˆ¶**è§£å†³äº†Pythoné¡¹ç›®ä¸­çš„ä¾èµ–ç®¡ç†éš¾é¢˜
- é›†æˆçš„**è™šæ‹Ÿç¯å¢ƒç®¡ç†**å’Œ**åŒ…æ„å»ºå‘å¸ƒ**åŠŸèƒ½æ˜¾è‘—æå‡äº†å¼€å‘æ•ˆç‡
- Poetryä¸Condaå¯ä»¥**æ— ç¼ååŒå·¥ä½œ**ï¼Œå‘æŒ¥å„è‡ªä¼˜åŠ¿

</div>

Poetryä½œä¸ºä¸€æ¬¾ç°ä»£åŒ–çš„Pythonä¾èµ–ç®¡ç†å·¥å…·ï¼Œé€šè¿‡ç®€åŒ–ä¾èµ–ç®¡ç†ã€è™šæ‹Ÿç¯å¢ƒç®¡ç†å’ŒåŒ…æ„å»ºå‘å¸ƒæµç¨‹ï¼Œæå¤§åœ°æå‡äº†Pythoné¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚å®ƒçš„é”æ–‡ä»¶æœºåˆ¶ç¡®ä¿äº†ç¯å¢ƒçš„ä¸€è‡´æ€§ï¼Œä¾èµ–è§£æåŠŸèƒ½é¿å…äº†ä¾èµ–å†²çªï¼Œä½¿å¾—å›¢é˜Ÿåä½œæ›´åŠ é¡ºç•…ã€‚

è™½ç„¶Poetryå’Œ[Conda](/tags/è™šæ‹Ÿç¯å¢ƒ)åœ¨åŠŸèƒ½ä¸Šæœ‰æ‰€é‡å ï¼Œä½†å®ƒä»¬å¯ä»¥ååŒå·¥ä½œï¼Œå‘æŒ¥å„è‡ªä¼˜åŠ¿ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å·¥å…·ç»„åˆï¼Œæ„å»ºç¨³å®šã€å¯é çš„Pythoné¡¹ç›®ç¯å¢ƒã€‚

éšç€Pythonç”Ÿæ€ç³»ç»Ÿçš„ä¸æ–­å‘å±•ï¼ŒPoetryå·²ç»æˆä¸ºè®¸å¤šå¼€å‘è€…çš„é¦–é€‰å·¥å…·ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦ä¸¥æ ¼ä¾èµ–ç®¡ç†çš„å¤§å‹é¡¹ç›®ä¸­ã€‚æŒæ¡Poetryçš„ä½¿ç”¨æ–¹æ³•å’Œæœ€ä½³å®è·µï¼Œå°†å¸®åŠ©å¼€å‘è€…æ„å»ºæ›´åŠ å¥å£®çš„Pythonåº”ç”¨ã€‚

## å‚è€ƒ

- [Poetryå®˜æ–¹æ–‡æ¡£](https://python-poetry.org/docs/cli/)
- [Python ä¾èµ–ç®¡ç†çš„é©æ–°â€”â€”Poetry æ·±åº¦è§£æ](https://jishuzhan.net/article/1891512391645007873)
- [å®˜æ–¹GitHubä»“åº“](https://github.com/python-poetry/poetry)
- [ç›¸å…³æ–‡ç« ï¼šPythonè™šæ‹Ÿç¯å¢ƒç®¡ç†å·¥å…·å¯¹æ¯”](/tags/è™šæ‹Ÿç¯å¢ƒ)
